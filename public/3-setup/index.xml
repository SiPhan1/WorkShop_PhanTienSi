<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Setup on AWS System Manager</title>
    <link>/3-setup/</link>
    <description>Recent content in Setup on AWS System Manager</description>
    <generator>Hugo</generator>
    <language>en</language>
    <lastBuildDate>Sat, 07 Dec 2024 00:00:00 +0000</lastBuildDate>
    <atom:link href="/3-setup/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Create Route 53 Resolver Endpoints</title>
      <link>/3-setup/3.1-create-resolver-endpoints/</link>
      <pubDate>Sat, 07 Dec 2024 00:00:00 +0000</pubDate>
      <guid>/3-setup/3.1-create-resolver-endpoints/</guid>
      <description>&lt;h1 id=&#34;create-route-53-resolver-endpoints&#34;&gt;Create Route 53 Resolver Endpoints&lt;/h1&gt;&#xA;&lt;p&gt;Route 53 Resolver Endpoints are essential for enabling DNS query forwarding between AWS and on-premises environments.&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 id=&#34;inbound-vs-outbound-endpoints&#34;&gt;Inbound vs Outbound Endpoints&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;strong&gt;Inbound Endpoint&lt;/strong&gt;: To enable your on-premise DNS system to query Route 53 Resolver for specific DNS zones (such as Private Zones) hosted on Route 53, you need to set up a Route 53 Inbound Endpoint. This Inbound Endpoint serves as a link for other services to request domain name resolution from Route 53. When you create an Inbound Endpoint, AWS generates an elastic network interface (ENI) in each specified availability zone (AZ) to handle incoming DNS queries.&#xA;&lt;img src=&#34;/images/prerequisite/inbound53.png&#34; alt=&#34;inbound53&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Setup Forwarding Rules</title>
      <link>/3-setup/3.2-setup-forwarding-rules/</link>
      <pubDate>Sat, 07 Dec 2024 00:00:00 +0000</pubDate>
      <guid>/3-setup/3.2-setup-forwarding-rules/</guid>
      <description>&lt;h1 id=&#34;setup-conditional-forwarding-rules&#34;&gt;Setup Conditional Forwarding Rules&lt;/h1&gt;&#xA;&lt;p&gt;This step configures rules that forward DNS queries from AWS to specific on-premises domains.&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 id=&#34;what-are-forwarding-rules&#34;&gt;What Are Forwarding Rules?&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Conditional forwarding&lt;/strong&gt; allows Route 53 Resolver to direct queries for specific domain names to external DNS servers (e.g., your on-premises DNS).&lt;/li&gt;&#xA;&lt;li&gt;Example: All requests for &lt;code&gt;example.com&#39;&lt;/code&gt; go to &lt;code&gt;192.168.1.10&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 id=&#34;create-forwarding-rules&#34;&gt;Create Forwarding Rules&lt;/h3&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Go to &lt;a href=&#34;https://console.aws.amazon.com/route53resolver&#34;&gt;Route 53 Resolver Console&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;Choose &lt;strong&gt;Rules → Create rule&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;Provide:&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Rule type: &lt;strong&gt;Forward&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;Domain name: &lt;code&gt;example.com&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;Target IPs: IP of your &lt;strong&gt;on-prem DNS server&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;Endpoint: Use your &lt;strong&gt;outbound endpoint&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 id=&#34;sample-rule&#34;&gt;Sample Rule&lt;/h3&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;Domain&lt;/th&gt;&#xA;          &lt;th&gt;Forward to IP&lt;/th&gt;&#xA;          &lt;th&gt;Endpoint&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;code&gt;example.com&lt;/code&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;code&gt;192.168.1.10&lt;/code&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;code&gt;outbound-resolver&lt;/code&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 id=&#34;screenshot&#34;&gt;Screenshot&lt;/h3&gt;&#xA;&lt;p&gt;&lt;img src=&#34;/images/setup/forwarding-rules.png&#34; alt=&#34;Forwarding Rules Example&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Set Up Hosted Zones</title>
      <link>/3-setup/3.3-hosted-zones/</link>
      <pubDate>Sat, 07 Dec 2024 00:00:00 +0000</pubDate>
      <guid>/3-setup/3.3-hosted-zones/</guid>
      <description>&lt;h1 id=&#34;set-up-public--private-hosted-zones&#34;&gt;Set Up Public &amp;amp; Private Hosted Zones&lt;/h1&gt;&#xA;&lt;p&gt;Hosted Zones in Route 53 are containers for DNS records. In a hybrid setup, you may use both &lt;strong&gt;public&lt;/strong&gt; and &lt;strong&gt;private&lt;/strong&gt; hosted zones depending on the use case.&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 id=&#34;private-hosted-zones-phz&#34;&gt;Private Hosted Zones (PHZ)&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Used for internal domain resolution within VPC.&lt;/li&gt;&#xA;&lt;li&gt;Not accessible from the internet.&lt;/li&gt;&#xA;&lt;li&gt;Example: &lt;code&gt;internal.example.com&lt;/code&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;steps&#34;&gt;Steps:&lt;/h4&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Go to &lt;a href=&#34;https://console.aws.amazon.com/route53/&#34;&gt;Route 53 Console&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;Click &lt;strong&gt;Create hosted zone&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;Domain name: &lt;code&gt;internal.example.com&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;Type: &lt;strong&gt;Private Hosted Zone&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;Associate with &lt;code&gt;HybridDNS-VPC&lt;/code&gt;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 id=&#34;public-hosted-zones-optional&#34;&gt;Public Hosted Zones (Optional)&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Used for internet-facing services.&lt;/li&gt;&#xA;&lt;li&gt;Example: &lt;code&gt;hybriddns.example.com&lt;/code&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Steps are similar to private zones, just select &lt;strong&gt;Public Hosted Zone&lt;/strong&gt;.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Enable Logging and Monitoring</title>
      <link>/3-setup/3.4-logging-monitoring/</link>
      <pubDate>Sat, 07 Dec 2024 00:00:00 +0000</pubDate>
      <guid>/3-setup/3.4-logging-monitoring/</guid>
      <description>&lt;h1 id=&#34;enable-logging-and-monitoring-for-dns-activity&#34;&gt;Enable Logging and Monitoring for DNS Activity&lt;/h1&gt;&#xA;&lt;p&gt;Logging and monitoring are essential to troubleshoot and secure DNS operations in your hybrid environment.&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 id=&#34;enable-route-53-resolver-query-logging&#34;&gt;Enable Route 53 Resolver Query Logging&lt;/h3&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Go to &lt;a href=&#34;https://console.aws.amazon.com/route53resolver&#34;&gt;Route 53 Resolver Console&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;Choose &lt;strong&gt;Query logging → Create query logging configuration&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;Enter:&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Name: &lt;code&gt;LogHybrid&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;Destination: &lt;strong&gt;CloudWatch Logs&lt;/strong&gt;, &lt;strong&gt;S3&lt;/strong&gt;, or &lt;strong&gt;Kinesis&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;Select the &lt;strong&gt;VPC&lt;/strong&gt; to associate with logging&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;&lt;img src=&#34;/images/setup/LogHybird.png&#34; alt=&#34;loghybrid&#34;&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 id=&#34;logging-destinations&#34;&gt;Logging Destinations&lt;/h3&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;Destination&lt;/th&gt;&#xA;          &lt;th&gt;Use Case&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;CloudWatch Logs&lt;/td&gt;&#xA;          &lt;td&gt;Real-time monitoring &amp;amp; alerting&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;S3&lt;/td&gt;&#xA;          &lt;td&gt;Long-term storage &amp;amp; analysis&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;Kinesis&lt;/td&gt;&#xA;          &lt;td&gt;Real-time streaming/forwarding&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 id=&#34;enable-cloudwatch-metrics--alarms&#34;&gt;Enable CloudWatch Metrics &amp;amp; Alarms&lt;/h3&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Go to &lt;a href=&#34;https://console.aws.amazon.com/cloudwatch&#34;&gt;CloudWatch Console&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;Create &lt;strong&gt;alarms&lt;/strong&gt; based on DNS query count, errors, or unusual spikes&lt;/li&gt;&#xA;&lt;li&gt;Example: Alarm when &lt;code&gt;NXDOMAIN&lt;/code&gt; responses exceed threshold&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 id=&#34;screenshot-example&#34;&gt;Screenshot Example&lt;/h3&gt;&#xA;&lt;p&gt;&lt;img src=&#34;/images/setup/logging-monitoring.png&#34; alt=&#34;Enable Logging &amp;amp; Monitoring&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Failover and Disaster Recovery Setup</title>
      <link>/3-setup/3.5-failover-dr/</link>
      <pubDate>Sat, 07 Dec 2024 00:00:00 +0000</pubDate>
      <guid>/3-setup/3.5-failover-dr/</guid>
      <description>&lt;h1 id=&#34;configuring-failover-and-disaster-recovery-dr&#34;&gt;Configuring Failover and Disaster Recovery (DR)&lt;/h1&gt;&#xA;&lt;p&gt;This section provides step-by-step guidance on how to configure High Availability (HA) and Disaster Recovery (DR) for your hybrid DNS setup using AWS Route 53.&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;step-1-configure-health-check-in-route-53&#34;&gt;Step 1: Configure Health Check in Route 53&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Go to &lt;a href=&#34;https://console.aws.amazon.com/route53&#34;&gt;Route 53 Console&lt;/a&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;From the left menu, choose:&lt;br&gt;&#xA;&lt;strong&gt;Health Checks → Create Health Check&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Fill in the details:&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;Field&lt;/th&gt;&#xA;          &lt;th&gt;Recommended Value&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;strong&gt;Name&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;code&gt;OnPrem-DNS-HealthCheck&lt;/code&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;strong&gt;What to monitor&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;code&gt;Endpoint&lt;/code&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;strong&gt;Specify endpoint&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt; - IP address&lt;/td&gt;&#xA;          &lt;td&gt;&lt;code&gt;192.168.1.10&lt;/code&gt; &lt;em&gt;(your on-prem DNS IP)&lt;/em&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt; - Protocol&lt;/td&gt;&#xA;          &lt;td&gt;&lt;code&gt;TCP&lt;/code&gt; or &lt;code&gt;HTTP&lt;/code&gt; &lt;em&gt;(based on your DNS setup)&lt;/em&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;strong&gt;Request interval&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;code&gt;30 seconds&lt;/code&gt; &lt;em&gt;(default)&lt;/em&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;strong&gt;Failure threshold&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;code&gt;3&lt;/code&gt; &lt;em&gt;(after 3 failed attempts, it&amp;rsquo;s considered unhealthy)&lt;/em&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;ol start=&#34;4&#34;&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Click &lt;strong&gt;Create Health Check&lt;/strong&gt; to complete the setup.&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
